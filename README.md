# Optical Art Generator

A sophisticated web application for generating mesmerizing geometric patterns optimized for laser engraving and digital art creation. Create stunning optical illusions with advanced customization controls, symmetry transformation, color harmony generation, preset management, and professional export capabilities.

## 🚀 Recent Updates

### v5.1.0 (Latest - VIDEO EXPORT!)

**🎬 VIDEO RECORDING & ANIMATION IMPROVEMENTS:**
- **Record Video Button**: Export animations as MP4 or WebM video files!
  - Configurable duration: 3-30 seconds
  - 30 FPS, high quality (5 Mbps bitrate)
  - **H.264/MP4**: Universal compatibility (works on iPhone/iPad!)
  - Smart codec detection: Tries H.264 first, falls back to VP9/VP8
  - Real-time recording progress display
  - Only enabled when animation is active
  - One-click download when complete
- **Enhanced Animation**: Smoother frame rendering for video capture
- **Professional Export**: Perfect for social media, presentations, portfolios
- **iPhone Compatible**: H.264 codec works on all Apple devices
- **Browser-Native**: No external dependencies, works offline

### v5.0.0 (MAJOR UPDATE)

**🎨 SYMMETRY & GLOW (GAME-CHANGER!):**
- **Symmetry Dropdown**: None/2-Fold/4-Fold/6-Fold/8-Fold/Radial(12)
  - Transforms ANY pattern into mandalas, kaleidoscopes, and flowers
  - Rotates pattern copies around center point
  - Example: Spiral + 6-Fold = Flower mandala! 🌸
- **Glow Effect Slider (0-10)**: SVG Gaussian blur for psychedelic halos
  - Creates neon sign aesthetics, dreamlike depth
  - Perfect for optical illusions with soft edges
- **Auto Line Width**: Intelligently scales with complexity (thick at low, thin at high)
- **Removed Manual Line Width**: Replaced with smarter auto-calculation

**🎨 COLOR HARMONY GENERATOR:**
- **Generate Colors Button**: Professional color theory in one click!
  - 6 Harmony Types: Complementary, Triadic, Analogous, Split-Complementary, Tetradic, Monochrome+Accent
  - Shows harmony name (e.g., "🎨 Triadic Harmony Generated!")
  - High saturation (70-100%) optimized for optical art
  - Educational + beautiful results

**🎲 RANDOMIZE ALL:**
- One-click total randomization: pattern + settings + colors
- Perfect for instant inspiration and happy accidents
- Shows: "🎲 Randomized EVERYTHING! Pattern + Colors + Settings"

**⚡ PRESET SNAPSHOTS & A/B MORPH:**
- **9 Quick Presets**: Save/load pattern configurations instantly
- **Keyboard Shortcuts**: Ctrl+1-9 to save, 1-9 to load (mobile: tap 💾 button)
- **Visual Preset Slots**: Filled slots show pattern type
- **A/B Morphing**: Interpolate between two presets with slider
- **Mutate Settings**: ±20% variation for exploration
- **Dedicated Morph Tab**: Professional preset management interface

**🔧 MAJOR IMPROVEMENTS:**
- **Generate New**: Now randomizes ALL settings (complexity 10-250, full ranges)
- **Generate Variation**: Subtle ±30 complexity, ±10 frequency variations
- **Complexity Range**: Optimized from 5-300 (was 5-2000, preventing black-outs)
- **Mobile-Friendly Presets**: Tap visual save buttons (💾) on each slot
- **Better Random Generation**: Uses absolute ranges, not relative scaling

### v4.0.0

**🎨 Professional UI Redesign:**
- **Modern 2025 Interface**: Complete redesign with glassmorphism, backdrop blur, and optical art aesthetics
- **Photoshop/Illustrator Layout**: Compact sidebar (280-320px), sleek header, professional tool placement
- **Mobile-First Design**: Canvas-first on mobile, responsive breakpoints (768px, 1024px, 1400px)
- **Compact Controls**: 40% more usable space, minimal scrolling, efficient layout
- **Visual Polish**: Gradient accents, smooth animations, custom scrollbars, micro-interactions

**🎛️ Bidirectional Sliders:**
- **Amplitude**: Now -1000 to +1000 (center-start for inverted effects)
- **Rotation**: Now -180° to +180° (bidirectional control)
- **Visual Indicators**: Red (negative) ← Black center → Blue (positive)
- **Creative Freedom**: Explore inverted waves, reversed patterns, mirrored effects

**🖱️ Mouse/Trackpad Zoom:**
- Scroll wheel or trackpad gestures to zoom in/out on canvas
- Natural, intuitive control for exploring pattern details
- Works alongside zoom buttons

**✨ Major Pattern Enhancements:**
- **L-System Growth**: 6 fractal types (bush/tree/fern/flower/spiral/fractal) with 2/4/6-fold rotational symmetry, depth-based coloring, leaves/flowers
- **Concentric Circles**: Enhanced as "Hypnotic Rings" with wave modulation, golden ratio spacing, optical art line style
- **Square Tunnel**: Transformed to "3D Vortex Tunnel" with perspective, spiral twist, depth effects
- **Diagonal Stripes**: Enhanced as "Dynamic Op-Art Stripes" with wave distortion, chevron patterns
- **Eye Pattern**: Upgraded to "Psychedelic Eye" with organic distortion, detailed iris, eyelids
- **Wave Displacement**: Now "Multi-Wave Field" with multiple sources, interference, 3D surface effects
- **Circular Displacement**: Enhanced as "Field Distortion" with magnetic fields, black hole lensing
- **Spiral Distortion**: Transformed to "Golden Ratio Spirals" with double arms, 3D ribbons
- **Moiré Interference**: Enhanced as "Multi-Layer Patterns" with 3 modes (lines/grid/radial)

**🖼️ Smart Thumbnails:**
- Saved patterns now display actual artwork thumbnails (200x200px PNG)
- Automatic thumbnail generation on save
- Fallback to generic previews for legacy patterns

### v3.0.0
**Major Pattern Enhancements:**
- **Radial Vortex Pattern**: New mesmerizing 3D tunnel effect with alternating bands radiating from center
- **Enhanced Cube Illusion**: Complete redesign with isometric projection, Escher-style impossible geometry
- **Universal Color Support**: Added colorToRgb() function to handle hex, rgb(), and hsl() formats
- **16 Total Patterns**: Now includes Shaded Grid and Radial Vortex

## ✨ Features

### 🎨 Creative Features
- **🌟 Symmetry Transformation** - Convert any pattern into mandalas/kaleidoscopes (2/4/6/8/12-fold)
- **✨ Glow Effects** - Psychedelic halos and neon aesthetics (0-10 intensity)
- **🎨 Color Harmony Generator** - Professional color theory (6 harmony types)
- **🎲 Randomize All** - Total randomization: pattern + settings + colors
- **⚡ Preset Snapshots** - 9 quick-save slots with keyboard shortcuts
- **🔄 A/B Morphing** - Smooth interpolation between two saved presets
- **🎬 Video Recording** - Export animations as MP4/WebM video (3-30 sec, 30 FPS, iPhone compatible!)
- **🎥 Animate Pattern** - Live animation with configurable parameters
- **Bidirectional Controls** - Amplitude and rotation sliders support negative values for inverted/mirrored effects
- **Mouse Wheel Zoom** - Scroll to zoom in/out on canvas for detailed exploration
- **Animation Feature** - Enable subtle, evolving animations with global rotation and parameter variation
- **Display Zoom & Pan** - Advanced zoom controls for closer pattern inspection
- **Pattern Layering** - Combine multiple patterns into complex, multi-layer designs
- **Smart Thumbnails** - Saved patterns display actual artwork previews

### 🎨 16 Sophisticated Patterns

#### ⭐ **Advanced/Sophisticated Patterns**
- **Radial Vortex** - 3D tunnel with flower-petal modulation and hypnotic depth
- **Cube Illusion** - Isometric 3D cubes with Escher-style impossible geometry
- **L-System Growth** - 6 fractal types with rotational symmetry and depth coloring
- **Perlin Displacement** - Organic noise fields with smooth displacement
- **Fractal Noise** - Multi-octave fbm for rich textures
- **De Jong Attractor** - Chaotic strange attractor forms

#### 🎯 **Enhanced Optical Art Patterns**
- **Hypnotic Rings** (Concentric Circles) - Wave-modulated circles with golden ratio
- **3D Vortex Tunnel** (Square Tunnel) - Perspective spiral with depth transforms
- **Dynamic Op-Art Stripes** (Diagonal Stripes) - Wave-distorted chevron patterns
- **Psychedelic Eye** - Organic eye with detailed iris and eyelids
- **Multi-Wave Field** (Wave Displacement) - Interference patterns and 3D surfaces
- **Field Distortion** (Circular Displacement) - Magnetic fields and black hole effects
- **Golden Ratio Spirals** (Spiral Distortion) - Double arms with 3D ribbons
- **Multi-Layer Patterns** (Moiré) - Three modes with dynamic rotation
- **Cellular Automata** - Emergent rule-based patterns
- **Shaded Grid** - 3D embossed cells with mathematical lighting

### 🎯 Format Options
- **Square (1:1)** - Traditional format
- **Widescreen (16:9)** - Desktop wallpapers
- **Portrait (9:16)** - Mobile wallpapers
- **Traditional (3:4)** - Classic photo ratio
- **Landscape (4:3)** - Landscape format
- **Photo ratios (2:3, 3:2)** - Standard photo formats
- **Custom** - Any size from 50-1000mm base

### 🌈 Color Features

**Color Harmony Generator:**
- Complementary (opposite on color wheel)
- Triadic (3 colors, 120° apart)
- Analogous (adjacent harmonious colors)
- Split-Complementary (sophisticated contrast)
- Tetradic (4 colors, balanced square)
- Monochrome + Accent (minimalist with pop)

**Color Modes:**
- **Black Lines** - LightBurn compatible (laser engraving)
- **Artistic Palettes** - Curated schemes (Stanczak, Riley, Albers, Vasarely)
- **Custom Gradient** - Two-color linear gradients
- **Single Color** - Custom color picker
- **Gradient Lines** - Blue to red progression
- **Rainbow Lines** - Golden angle distributed rainbow
- **Hue Shift** - Seed-based color variations

### 💾 Pattern Library & Presets

**Quick Presets (NEW!):**
- 9 instant-save slots (keyboard: Ctrl+1-9 to save, 1-9 to load)
- Visual filled/empty indicators
- Mobile-friendly tap buttons (💾)
- Saves: pattern, all settings, colors, seed

**A/B Morphing (NEW!):**
- Select two presets (A & B)
- Morph slider (0-100%)
- Smooth parameter interpolation
- Discover in-between variations

**Pattern Library:**
- **Save Pattern** - Store configurations with custom names and thumbnails
- **Load Pattern** - Randomly load saved patterns for inspiration
- **Manage Saved** - Visual library with actual artwork previews
- **Local Storage** - Persistent browser storage
- **Pattern Metadata** - Creation date, type, settings, and thumbnail

### 📤 Export Options
- **SVG Export** - Vector format with millimeter units for LightBurn
- **PNG Export** - High-resolution (8x scale) lossless images
- **JPG Export** - Compressed format (95% quality)
- **MP4/WebM Video** - Animated patterns (H.264 codec, 3-30 sec, 30 FPS, iPhone compatible!)
- **Smart Filenames** - Auto-naming with pattern type, settings, timestamp

### 🛡️ Enhanced User Experience
- **Professional 2025 UI** - Glassmorphism, smooth animations, modern aesthetics
- **Compact Layout** - 40% more usable space, minimal scrolling
- **5-Tab Interface** - Pattern, Adjust, Canvas/Color, Morph, Actions
- **Interactive Previews** - Click thumbnails to instantly switch patterns
- **Real-time Updates** - Live preview as you adjust parameters
- **Error Handling** - Comprehensive validation and feedback
- **Responsive Design** - Mobile-first, works on all devices
- **Bidirectional Sliders** - Visual center markers for negative values
- **Mouse/Trackpad Zoom** - Intuitive scroll-to-zoom on canvas

## 🚀 Getting Started

### Quick Start
1. Open `index.html` in any modern web browser
2. Select a pattern type from dropdown or click preview thumbnails
3. Adjust parameters using compact sidebar controls:
   - **Complexity (5-300)**: Density/detail level
   - **Symmetry**: None/2/4/6/8/12-fold transformation
   - **Frequency (1-100)**: Pattern frequency/cycles
   - **Amplitude (-1000 to +1000)**: Effect intensity (try negatives!)
   - **Rotation (-180° to +180°)**: Angle
   - **Glow (0-10)**: Blur intensity for psychedelic effects
4. Click **🎨 Generate Colors** for harmonious color palettes
5. Click **🎲 Randomize All** for total inspiration
6. Use mouse wheel to zoom in/out on canvas
7. Save to presets (Ctrl+1-9) for quick recall
8. Export as SVG (laser), PNG, or JPG

### Local Development
```bash
# Start a local server
cd "Optical art examples"
python3 -m http.server 8000

# Open browser to
http://localhost:8000
```

## 📖 Usage Guide

### Symmetry Transformations

**Create Instant Mandalas:**
1. Choose any pattern (e.g., Spiral)
2. Set Symmetry to **6-Fold**
3. Adjust Glow to **5**
4. Result: Flower mandala! 🌸

**Symmetry Options:**
- **None**: Original pattern (1 copy)
- **2-Fold Mirror**: Mirrored across center
- **4-Fold**: Rotated 4 times (90° apart) = Mandala
- **6-Fold**: Rotated 6 times (60° apart) = Flower
- **8-Fold**: Rotated 8 times (45° apart) = Star
- **Radial (12-Fold)**: Full kaleidoscope effect

### Color Harmony Workflow

**Find Perfect Colors:**
1. Set up your pattern
2. Click **🎨 Generate Colors** 5-10 times
3. Each click generates new harmony type
4. Watch for harmony name in success message
5. Save favorite combos to presets

**Example Harmonies:**
- Complementary: Blue + Orange (high contrast)
- Triadic: Red + Yellow + Blue (balanced)
- Analogous: Purple → Magenta → Pink (smooth)

### Preset Snapshots

**Quick Workflow:**
1. Create a pattern you love
2. Press **Ctrl+1** (or tap 💾 on slot 1)
3. Tweak settings dramatically
4. Press **1** to instantly restore

**A/B Morphing:**
1. Save "Calm" preset → Ctrl+1
2. Save "Chaos" preset → Ctrl+2
3. Go to Morph tab
4. Select A=1, B=2
5. Move morph slider (0-100%)
6. Discover in-between patterns!

### Creative Exploration with Bidirectional Sliders

**Amplitude (-1000 to +1000):**
- **Positive values**: Normal wave direction, outward effects
- **Zero (0)**: Neutral, flat, no displacement
- **Negative values**: Inverted waves, reversed patterns, mirrored effects

**Try these:**
- Wave Displacement with `-300` amplitude → Inverted wave flow
- Radial Vortex with `-500` amplitude → Inward spiraling vortex
- Concentric Circles with `-80` amplitude → Reversed wave modulation

**Rotation (-180° to +180°):**
- Bidirectional control centered at 0°
- Symmetrical exploration of angles

### Mouse/Trackpad Zoom
1. Hover cursor over canvas
2. Scroll up (or swipe up on trackpad) to zoom in
3. Scroll down (or swipe down) to zoom out
4. Use zoom buttons or mouse wheel interchangeably

### Pattern Layering
1. **Create a Base**: Generate a pattern with "Generate New"
2. **Select New Pattern**: Choose different pattern type
3. **Adjust Settings**: Change complexity, colors, parameters
4. **Click "Layer Pattern"**: Overlays new pattern on existing
5. **Repeat**: Add as many layers as desired

### For Laser Engraving (LightBurn)
- **Color Mode**: Black Lines only
- **Export Format**: SVG (includes millimeter dimensions)
- **Recommended Patterns**: Any pattern works, test line density

### For Digital Wallpapers
- **Color Modes**: Use Generate Colors, Artistic, Rainbow, Gradient
- **Symmetry**: Try 4-Fold or 6-Fold for mandalas
- **Glow**: Add 3-7 for dreamlike quality
- **Export Format**: PNG for best quality
- **Recommended**: Radial Vortex + 6-Fold Symmetry + Glow 5

## 🔬 Technical Details

### Mathematical Principles
- **Displacement Field Theory** - Lines follow calculated force fields
- **Sine Wave Modulation** - Smooth curved distortions
- **Perlin Noise & fBm** - Organic, flowing patterns with multiple octaves
- **Strange Attractors** - Chaotic systems (De Jong attractor)
- **Cellular Automata** - Emergent rule-based patterns (Wolfram rules)
- **L-Systems** - Algorithmic fractal branching with rotation matrices
- **Polar Coordinates** - Radial and spiral effects (r, θ)
- **Isometric Projection** - True 3D with 30° angles and depth scaling
- **Mathematical Shading** - Normal vectors, diffuse lighting, height maps
- **Radial Vortex Math** - Sinusoidal petal modulation with spiral twist
- **Golden Ratio** - Natural spacing (φ = 1.618...) in spirals and circles
- **Interference Patterns** - Multi-wave superposition and standing waves
- **Vector Fields** - Magnetic field simulation, attraction/repulsion
- **Symmetry Groups** - N-fold rotational symmetry transformations
- **Color Theory** - HSL-based harmony generation (complementary, triadic, etc.)
- **SVG Filters** - Gaussian blur for glow effects

### Pattern Algorithm Details

#### **Symmetry System** (NEW!)
- Clones pattern N times based on symmetry value
- Rotates each copy by (360/N)° around center
- Applied AFTER pattern generation, BEFORE glow
- Examples:
  - 4-Fold: 4 copies at 0°, 90°, 180°, 270°
  - 6-Fold: 6 copies at 0°, 60°, 120°, 180°, 240°, 300°

#### **Glow System** (NEW!)
- SVG `<filter>` with `<feGaussianBlur>`
- `stdDeviation = glowIntensity` (0-10)
- Applied to entire layer group
- Merged with original using `<feMerge>`

#### **Color Harmony Generator** (NEW!)
- Base hue: Random 0-360°
- Harmony angles applied to base
- HSL to Hex conversion for web colors
- High saturation (70-100%) for optical art
- Good contrast lightness (45-60%)

#### **Auto Line Width** (NEW!)
```javascript
if (complexity < 50) return 3-2px      // Thick for low detail
else if (complexity < 150) return 2-1px // Medium
else return 1-0.5px                     // Thin for high detail
```

#### **Radial Vortex** (Advanced)
- Polar coordinate system with petal modulation
- Formula: `r_final = r × (1 + sin(θ × petals) × intensity)`
- Spiral twist: `θ_adjusted = θ + r × 0.01`
- 3-10 dynamic petals based on frequency
- Alternating band colors for depth illusion

#### **Cube Illusion** (Enhanced)
- Isometric projection: `X = (col - row) × 0.866, Y = (col + row) × 0.5`
- Wave modulation for size variation
- Three-face rendering with gradients
- Impossible geometry connections
- Radial depth scaling

#### **L-System Growth** (Enhanced)
- 6 system types: bush, tree, fern, flower, spiral, fractal
- Rotational symmetry: 1-fold, 2-fold, 4-fold, 6-fold
- Depth-based coloring via HSL
- Variable thickness (thins toward tips)
- Leaves/flowers at branch endpoints

### Architecture
- **Frontend**: Vanilla JavaScript ES6+ with SVG rendering
- **UI Framework**: Custom responsive design with CSS Grid/Flexbox
- **Layering**: Each pattern rendered into distinct `<g>` groups
- **Storage**: Browser localStorage with JSON serialization
- **Thumbnails**: Canvas API for PNG generation (200x200px)
- **Color System**: Universal RGB converter + HSL harmony generator
- **Responsive**: Mobile-first with breakpoints at 768px, 1024px, 1400px
- **Presets**: localStorage with separate 'opticalArtPresets' key

### Browser Compatibility
- Modern browsers with ES6+ support
- SVG 1.1 rendering + SVG filters
- Canvas API for thumbnails
- localStorage for persistence
- Backdrop-filter for glassmorphism (fallback graceful)

## 🎨 Design Philosophy

**2025 Modern Aesthetic:**
- Glassmorphism with 85% opacity and backdrop blur
- Gradient accents inspired by optical art (purple/pink spectrum)
- Micro-interactions and smooth animations (cubic-bezier)
- Professional tool placement (Photoshop/Illustrator paradigm)
- Minimal, efficient, information-dense layout

**Optical Art DNA:**
- Animated geometric background patterns
- Gradient-based visual hierarchy
- Pattern-inspired UI elements
- Bidirectional sliders with visual center markers
- Color system matching optical art aesthetics

## 📋 Keyboard Shortcuts

**Presets:**
- **Ctrl+1 to Ctrl+9** (Cmd on Mac): Save to preset slot
- **1 to 9**: Load from preset slot

**Navigation:**
- **Mouse Wheel**: Zoom in/out on canvas
- **Tab**: Navigate through controls
- **Enter**: Activate focused button
- **Space**: Toggle checkboxes

## 🎯 Tips & Tricks

### Symmetry Magic
1. **Instant Mandalas**: Any pattern + 4-Fold or 6-Fold symmetry
2. **Psychedelic Flowers**: Eye Pattern + 6-Fold + Glow 7
3. **Kaleidoscopes**: Wave Field + Radial (12-Fold) + High Complexity
4. **Sacred Geometry**: L-System + 6-Fold + Golden Ratio spacing

### Color Harmony Mastery
1. **Click Generate Colors 10+ times** until you find perfect combo
2. **Complementary** works best with high glow (dramatic contrast)
3. **Analogous** creates smooth, professional gradients
4. **Triadic** excellent for rainbow-like balanced compositions

### Workflow Optimization
1. **Use Randomize All** for instant creative starts (click 5-10 times)
2. **Save to Presets** when you find something good (Ctrl+1-9)
3. **A/B Morph** between presets to find in-between sweet spots
4. **Mutate Settings** to explore variations of current aesthetic

### Advanced Techniques
1. **Explore Negative Amplitudes**: Try `-500` to `-1000` for completely inverted effects
2. **Layer Wisely**: Start with low-opacity base layers, add detailed top layers
3. **Golden Ratio Magic**: Use frequency > 50 on Concentric Circles for φ spacing
4. **L-System Symmetry**: High complexity (70+) + 6-Fold creates stunning mandalas
5. **Mouse Zoom**: Scroll while exploring to find the perfect detail level
6. **Glow + Symmetry Combo**: Radial symmetry + Glow 8 = Hypnotic halos
7. **Variation Button**: Click 3-5 times to explore related aesthetic families
8. **Save Often**: Thumbnails help you remember which patterns you loved

## 📄 License

This project is open source. See LICENSE file for details.

## 🙏 Acknowledgments

Inspired by classic optical artists:
- Julian Stanczak (vibrant color interactions)
- Bridget Riley (black & white optical illusions)
- Josef Albers (color theory)
- Victor Vasarely (geometric abstraction)

Mathematical foundations from:
- Perlin noise algorithm (Ken Perlin)
- L-Systems (Aristid Lindenmayer)
- Strange attractors (Peter de Jong)
- Cellular automata (Stephen Wolfram)
- Color harmony theory (Johannes Itten, Josef Albers)

---

**Built with ❤️ for laser engravers, digital artists, and optical art enthusiasts**

**Version**: 5.0.0 (2025 Edition - MAJOR UPDATE)  
**Last Updated**: September 2025